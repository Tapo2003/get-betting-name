<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VPN Interface</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      .sidebar {
        position: fixed;
        top: 0;
        left: -250px;
        width: 250px;
        height: 100%;
        background-color: black;
        color: white;
        overflow-y: auto;
        transition: left 0.3s ease;
        z-index: 1000;
        padding-top: 20px;
      }

      .sidebar ul {
        list-style-type: none;
        padding: 0;
      }

      .sidebar ul li {
        padding: 15px 20px;
        cursor: pointer;
        border-bottom: 1px solid #495057;
      }

      .sidebar ul li:hover {
        background-color: #495057;
      }

      /* Sidebar Toggle Styles */
      .sidebar.active {
        left: 0;
      }

      /* Overlay Styles */
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        visibility: hidden;
        opacity: 0;
        transition: visibility 0.3s, opacity 0.3s;
        z-index: 999;
      }

      .overlay.active {
        visibility: visible;
        opacity: 1;
      }
      .power-button {
        position: absolute;
        top: 270px;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        width: 100px;
        height: 100px;
        /* position:absolute;
          top:300px; */
        margin-left: 190px;
        border-radius: 50%;
        background-color: white;
        color: green;
        font-size: 4rem;
        transform: translate(350%, 100%);
        border: none;
      }

      .tap-title {
        position: absolute;
        top: 360px;
        margin-left: 450px;
        font-size: 2rem;
        font-weight: bold;
        background: linear-gradient(to right, white, white);
        -webkit-background-clip: text;
        color: white;
        text-align: center;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 4px 4px 6px rgba(0, 0, 0, 0.3);
        animation: glow 1.5s ease-in-out infinite alternate;
        margin-top: 120px;
      }

      .country-selector {
        position: absolute;
        bottom: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: black;
        border: 2px solid white;
        border-radius: 5px;
        padding: 4px 10px;
        width: 1200px;
      }

      .country-selector img {
        width: 30px;
        height: 35px;
        border-radius: 1px;
      }

      .map-container {
        height: 300px; /* Adjusted height */
        width: 80%; /* Adjusted width */
        margin: 0 auto; /* Centers the map horizontally */
        margin-top: 50px; /* Adds some space above the map */
        position: relative;
      }
      #menuToggle {
        position: relative; /* Ensure it is positioned relative to the document */
        z-index: 1100; /* Set a higher z-index than the sidebar */
        margin-left: 50px;
      }

      #map {
        height: 60%;
        width: 100%;
        border-radius: 10px; /* Optional rounded corners */
      }

      @media screen and (max-width: 1007px) {
        .power-button {
          margin-left: 60px;
        }
      }

      @media screen and (max-width: 1007px) {
        .tap-title {
          margin-left: 330px;
        }
      }

      @media screen and (max-width: 860px) {
        .power-button {
          margin-left: 17px;
        }
      }

      @media screen and (max-width: 860px) {
        .tap-title {
          margin-left: 300px;
        }
      }

      @media screen and (max-width: 820px) {
        .power-button {
          margin-left: 15px;
        }
      }

      @media screen and (max-width: 820px) {
        .tap-title {
          margin-left: 280px;
        }
      }

      @media screen and (max-width: 810px) {
        .power-button {
          margin-left: 13px;
        }
      }

      @media screen and (max-width: 810px) {
        .tap-title {
          margin-left: 240px;
        }
      }

      @media screen and (max-width: 790px) {
        .power-button {
          margin-left: 3px;
        }
      }

      @media screen and (max-width: 770px) {
        .power-button {
          margin-left: 3px;
        }
      }

      @media screen and (max-width: 750px) {
        .power-button {
          margin-left: -60px;
        }

        .tap-title {
          margin-left: 210px;
        }
      }

      @media screen and (max-width: 681px) {
        .power-button {
          margin-left: -80px;
        }

        .tap-title {
          margin-left: 180px;
        }
      }
      @media screen and (max-width: 640px) {
        .power-button {
          margin-left: -120px;
        }

        .tap-title {
          margin-left: 150px;
        }
      }

      @media screen and (max-width: 575px) {
        .power-button {
          margin-left: -140px;
        }

        .tap-title {
          margin-left: 130px;
        }
      }
      @media screen and (max-width: 550px) {
        .power-button {
          margin-left: -170px;
        }

        .tap-title {
          margin-left: 90px;
        }
      }

      @media screen and (max-width: 500px) {
        /* Optional rounded corners */
      }

      .tap-title {
        font-size: 30px;
      }

      @media screen and (max-width: 470px) {
        .power-button {
          margin-left: -210px;
        }

        .tap-title {
          margin-left: 70px;
        }

        .country-selector {
          width: 390px;
          position: absolute;
        }
      }
      @media screen and (max-width: 430px) {
        .power-button {
          margin-left: -230px;
          position: absolute;
        }

        .tap-title {
          margin-left: 40px;
        }
      }
      @media screen and (max-width: 400px) {
        .power-button {
          position: absolute;
          left: -10px;
        }

        .tap-title {
          position: absolute;
          left: 20px;
          font-size: 20px;
        }
      }

      @media screen and (max-width: 400px) {
        .power-button {
          margin-left: -210px;
        }

        .tap-title {
          margin-left: 70px;
        }
        .fullpage {
          height: 1000px;
        }
        /* .side{
          font-size:1rem
        } */
      }

      @media screen and (max-width: 350px) {
        .power-button {
          margin-left: -230px;
        }

        .tap-title {
          margin-left: 50px;
        }
      }

      @media screen and (max-width: 290px) {
        .power-button {
          margin-left: -250px;
          margin-top: 30px;
        }

        .tap-title {
          margin-left: 20px;
          margin-top: 140px;
        }

        /* .country-selector {
          margin-top:70px;
          margin-top:1000px;
        } */

        @media screen and (max-width: 100px) {
          .country-selector {
            position: absolute;
            top: 0px;
          }
        }
        /* .side{
          font-size:1rem
        } */
      }
    </style>
  </head>
  <body>
    <div
      class="container-fluid"
      style="background-color: green; height: 100vh; width: 100%"
      id="fullpage"
    >
      <nav
        class="navbar navbar-expand-lg navbar-light"
        style="background-color: green"
      >
        <div class="container-fluid">
          <button id="menuToggle" class="btn text-white" type="button">
            <i class="fas fa-bars" style="color: white; font-size: 3rem"></i>
          </button>

          <div class="ml-auto">
            <div class="dropdown">
              <button
                class="btn btn-light dropdown-toggle"
                type="button"
                id="countrySelect"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Select Country
              </button>
              <ul class="dropdown-menu" aria-labelledby="countrySelect">
                <li>
                  <a class="dropdown-item" href="#">
                    <img
                      src="asset/img/usa-logo.png"
                      alt="USA Flag"
                      width="20"
                      height="15"
                    />
                    USA
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">
                    <img
                      src="asset/img/german-logo.png"
                      alt="Germany Flag"
                      width="20"
                      height="15"
                    />
                    Germany
                  </a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">
                    <img
                      src="asset/img/usa-logo.png"
                      alt="Japan Flag"
                      width="20"
                      height="15"
                    />
                    Japan
                  </a>
                </li>
                <!-- Add more countries as needed -->
              </ul>
            </div>
          </div>
        </div>
      </nav>

      <div class="sidebar" id="sidebar">
        <ul>
          <li>Home</li>
          <li>Contact</li>
          <li>Service</li>
        </ul>
      </div>
      <div class="map-container">
        <div id="map"></div>
      </div>
      <!-- Power Button with circular background -->
      <div class="content">
        <button class="power-button">
          <i class="fa fa-power-off" aria-hidden="true"></i>
          <!-- Font Awesome Icon -->
        </button>

        <div class="tap-container">
          <h2 class="tap-title">Tap to Connect</h2>
        </div>

        <div class="country-selector">
          <img src="asset/img/usa-logo.png" alt="USA Flag" />
          <span style="color: white; margin-left: 20px; font-size: 19px"
            >United States</span
          >
        </div>
      </div>
      <!-- Map Container -->
    </div>

    <script>
      const menuToggle = document.getElementById("menuToggle");
      const sidebar = document.getElementById("sidebar");

      // Set the default state of the menu (hidden)
      let isSidebarVisible = false;

      // Set the default state of the menu (hidden)
      menuToggle.addEventListener("click", () => {
        // Toggle the sidebar's active state
        sidebar.classList.toggle("active");
        isSidebarVisible = !isSidebarVisible;

        // Change the icon based on the sidebar's visibility
        menuToggle.innerHTML = isSidebarVisible
          ? '<i class="fas fa-times" style="color: white; font-size: 3rem"></i>' // Close icon
          : '<i class="fas fa-bars" style="color: white; font-size: 3rem"></i>'; // Hamburger menu icon
      });

      let map, marker;

      // Custom Map Style (Dark theme with various color adjustments)
      const mapStyle = [
        { elementType: "geometry", stylers: [{ color: "#212121" }] },
        { elementType: "labels.icon", stylers: [{ visibility: "off" }] },
        { elementType: "labels.text.fill", stylers: [{ color: "#757575" }] },
        { elementType: "labels.text.stroke", stylers: [{ color: "#212121" }] },
        {
          featureType: "administrative",
          elementType: "geometry.fill",
          stylers: [{ color: "#757575" }],
        },
        {
          featureType: "administrative",
          elementType: "geometry.stroke",
          stylers: [{ color: "#212121" }],
        },
        {
          featureType: "poi",
          elementType: "geometry",
          stylers: [{ color: "#212121" }],
        },
        {
          featureType: "road",
          elementType: "geometry.fill",
          stylers: [{ color: "#2c2c2c" }],
        },
        {
          featureType: "road",
          elementType: "geometry.stroke",
          stylers: [{ color: "#212121" }],
        },
        {
          featureType: "road.highway",
          elementType: "geometry",
          stylers: [{ color: "#746855" }],
        },
        {
          featureType: "transit",
          elementType: "geometry",
          stylers: [{ color: "#212121" }],
        },
        {
          featureType: "water",
          elementType: "geometry",
          stylers: [{ color: "#000000" }],
        },
      ];

      function initMap() {
        // Initial location (USA)
        const initialLocation = { lat: 37.0902, lng: -95.7129 };

        // Create map with custom style
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 4,
          center: initialLocation,
          styles: mapStyle, // Apply custom styles
        });

        // Create a draggable red marker
        marker = new google.maps.Marker({
          position: initialLocation,
          map: map,
          icon: {
            url: "https://maps.google.com/mapfiles/ms/icons/red-dot.png", // Red dot icon
          },
          draggable: true, // Marker is draggable
        });

        // Add event listener for when the marker is dragged
        google.maps.event.addListener(marker, "dragend", function (event) {
          const newLat = event.latLng.lat(); // Get the new latitude
          const newLng = event.latLng.lng(); // Get the new longitude
          // console.log("New marker position:", { lat: newLat, lng: newLng });
          // alert(`Marker moved to:\nLatitude: ${newLat}\nLongitude: ${newLng}`);
        });
      }

      // Attach event listener to dropdown items for updating map and marker position
      document.querySelectorAll("#countryDropdown a").forEach((country) => {
        country.addEventListener("click", function (event) {
          event.preventDefault();

          // Get latitude and longitude from data attributes
          const lat = parseFloat(this.getAttribute("data-lat"));
          const lng = parseFloat(this.getAttribute("data-lng"));

          // Update map center and marker position
          const newLocation = { lat, lng };
          map.setCenter(newLocation);
          marker.setPosition(newLocation);
        });
      });
    </script>

    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBYzXj5wF4L6mChyyc5xwfb2QT1QEZ9VN8&callback=initMap"
    ></script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
  </body>
</html>
